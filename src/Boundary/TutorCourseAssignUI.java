/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template
 */
package Boundary;

/**
 *
 * @author hp
 */
public class TutorCourseAssignUI extends javax.swing.JPanel {

    /**
     * Creates new form TutorCourseAssign
     */
    public TutorCourseAssignUI() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jLabelTitle = new javax.swing.JLabel();
        jTextField1 = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        Course = new javax.swing.JComboBox<>();
        jLabel5 = new javax.swing.JLabel();
        Course1 = new javax.swing.JComboBox<>();
        jTextField2 = new javax.swing.JTextField();
        jLabelSearch1 = new javax.swing.JLabel();
        jTextSearch = new javax.swing.JTextField();
        jButtonSearch1 = new javax.swing.JButton();
        jLabelSearch2 = new javax.swing.JLabel();
        jTextSearch1 = new javax.swing.JTextField();
        jButtonSearch = new javax.swing.JButton();
        jButtonAdd = new javax.swing.JButton();
        jButtonUpdate = new javax.swing.JButton();
        jButtonDelete = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        TableFacultyProgrammeCourseInfo = new javax.swing.JTable();

        jLabelTitle.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabelTitle.setText("Tutor, Course & Tutorial Group Information System");

        jTextField1.setText("Enter your name");
        jTextField1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField1ActionPerformed(evt);
            }
        });

        jLabel3.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabel3.setText("Select Courses:");

        Course.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "BBBE 1033 Economics", "BBDM 1043 Principles of Management", "BMIT 1723 IT Fundamentals and Applications", "BBDM 1013 Business Communication", "BBDT 1013 Principles of Marketing", "BBDM 1023 Business Organisation and Management", "BBMF 1813 Principles of Finance", "BAMS 1753 Financial Mathematics", "BBBL 2023 Commercial Law", "BBDM 2153 Operations Management", "BBDT 3264 Big Data Analytics", "BBDT 3244 Digital Marketing", "BBDM 3303 Entrepreneurship", "BMCS 2123 Natural Language Processing", "BBDT 3314 Business Metrics and Analytics", "MPU - 3133 Falsafah dan Isu Semasa", "BJEL 1023 Academic English", "BBFA 2054 Financial Reporting", "BBMF 2093 Corporate Finance", "Business Strategy", "BAMS 1743 Quantitative Methods", "BBBE 2133 Economics for Strategy", "BBBE 2113 Intermediate Microeconomics", "MPU - 3302 Integrity and Anti-Corruption", "BBBE 2033 Malaysian Economy", "BBBE 3814 Econometrics", "BBDM 1063 Organisational Behaviour", "BBDH 2013 Human Resource Management", "BBDM 3013 Business Research", "BBDH 2013 Human Resource Management", "BJEL 1023 Academic English", "MPU-3302 Integrity and Anti-Corruption", "BBDT 2094 Retail Management", "BBDT 2174 Social Commerce", "BBDM 3194 Strategic Planning and Management", "BHEL 1913 English Language", "BBBE 3023 Research Methodology", "BAIT 2123 Internet of Things", "BHFD 2124 Garment and Pattern Construction II", "BHFD 2133 Software Application for Fashion", "BHFD 2143 Advanced Fashion Design Illustration", "MPU - 3103 Falsafah and Isu Semasa", "MPU - 3232 Entrepreneurship", "BTBE 2052 Research Methodology", "BTBE 2023 Civil Engineering Construction Technology", "BTQS 2023 Measurement of Plumbing and Electrical Services", "BTQS 2054 Development Economics", "BTQS 3033 Prices Analysis For External and Plumbing Works", "BTAR 1016 Design Studio I", "BTAR 1013 Architectural Graphic Techniques", "BTAR 1052 Principles of Construction and Materials", "BTAR 1012 History of Eastern Architecture", "BTAR 1062 Environmental Science", "BTGE 1013 Engineering Mathematics", "BTMM 2153 Strength of Materials", "BGMC 4263 Heat Transfer", "BTGE 2033 Engineering Statistics", "BTMH 4443 Robotic Systems and Design", "BGMC 4282 Finite element Analysis", "BGMC 2183 Dynamics", "BTEH 2223 Microprocessor Systems", "BTMH 1313 Industrial Control and Automation", "BACS 2114 Machine Learning", "BGGE 2044 Project Management and Finance", "BTEC 4213 Embedded System", "BGEC 3314 Digital Signal Processing", "BAMS 2414 Statistics Methods for Scientific Analysis", "BAFS 2333 Sensory Evaluation", "BAFS 3343 Food Preservation", "BAFS 2344 Food Microbiology II", "BAFS 3523 Therapeutic Nutrition", "BAFS 1353 Food Analysis", "BAFS 1313 Introduction to Food Science", "BACS 3183 Advanced Database Management", "BMCS 2013 Data Engineering", "BAIT 3003 Data Warehouse Technology", "BMMS 2074 Statistics for Data Science", "BAIT 3013 Information Systems Implementation", "BAIT 3043 IS Strategy and Management", "BAIT 3133 Database Administration", "BAIT 2144 Fundamentals of Computer Networks", "BAMS 1623 Discrete Mathematics", "BACS 2023 Object-oriented Programming", "BACS 1053 Database Management", "BAIT 3013 Business Intelligence", "BACS 2163 Software Engineering", "BAIT 2203 Human Computer Interaction", "BAIT 2073 Mobile Application Development", "BACS 2173 Graphic Programming", "BACS 3074 Artificial Intelligence", "BAIT 3273 Cloud Computing", "BAIT 1093 Introduction to Computer Security", "BACS 2063 Data Structure and Algorithm", "BACS 2033 Software Requirements Engineering", "BACS 2083 Formal Methods for Software Engineering", "BMMS 2633 Advanced Discrete Mathematics", "BAIT 3343 Agile Software Development", "BAIT 3153 Software Project Management", "BACS 2103 Software Quality Assurance and Testing" }));
        Course.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CourseActionPerformed(evt);
            }
        });

        jLabel5.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabel5.setText("Select Course Type:");

        Course1.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Tutorial ", "Practical ", "Lecture" }));
        Course1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Course1ActionPerformed(evt);
            }
        });

        jTextField2.setText("Enter Tutorial Group");
        jTextField2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField2ActionPerformed(evt);
            }
        });

        jLabelSearch1.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabelSearch1.setText("Search:");

        jTextSearch.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextSearchActionPerformed(evt);
            }
        });

        jButtonSearch1.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jButtonSearch1.setText("Search by tutor");
        jButtonSearch1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSearch1ActionPerformed(evt);
            }
        });

        jLabelSearch2.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabelSearch2.setText("Search:");

        jTextSearch1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextSearch1ActionPerformed(evt);
            }
        });

        jButtonSearch.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jButtonSearch.setText("Search by course");

        jButtonAdd.setBackground(javax.swing.UIManager.getDefaults().getColor("Actions.Green"));
        jButtonAdd.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jButtonAdd.setText("Add");

        jButtonUpdate.setBackground(javax.swing.UIManager.getDefaults().getColor("Actions.Blue"));
        jButtonUpdate.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jButtonUpdate.setText("Update");
        jButtonUpdate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonUpdateActionPerformed(evt);
            }
        });

        jButtonDelete.setBackground(javax.swing.UIManager.getDefaults().getColor("Actions.Red"));
        jButtonDelete.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jButtonDelete.setText("Delete");
        jButtonDelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDeleteActionPerformed(evt);
            }
        });

        TableFacultyProgrammeCourseInfo.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null}
            },
            new String [] {
                "Tutor Name", "Course", "Course type", "Tutorial Group"
            }
        ));
        TableFacultyProgrammeCourseInfo.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                TableFacultyProgrammeCourseInfoMouseClicked(evt);
            }
        });
        TableFacultyProgrammeCourseInfo.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                TableFacultyProgrammeCourseInfoKeyReleased(evt);
            }
        });
        jScrollPane1.setViewportView(TableFacultyProgrammeCourseInfo);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabelTitle)
                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 266, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 266, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(Course, javax.swing.GroupLayout.PREFERRED_SIZE, 323, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(Course1, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(146, 146, 146)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabelSearch2, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jTextSearch1, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jButtonSearch))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabelSearch1, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jTextSearch, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(48, 48, 48)
                                .addComponent(jButtonSearch1, javax.swing.GroupLayout.PREFERRED_SIZE, 144, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jButtonAdd)
                        .addGap(27, 27, 27)
                        .addComponent(jButtonUpdate, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(26, 26, 26)
                        .addComponent(jButtonDelete, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 1032, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(84, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabelTitle)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(17, 17, 17)
                .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(Course, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabelSearch1)
                        .addComponent(jTextSearch, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jButtonSearch1)))
                .addGap(18, 18, 18)
                .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(Course1, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabelSearch2)
                        .addComponent(jTextSearch1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jButtonSearch)))
                .addGap(18, 18, 18)
                .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(32, 32, 32)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButtonAdd)
                    .addComponent(jButtonUpdate)
                    .addComponent(jButtonDelete))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 376, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(61, Short.MAX_VALUE))
        );
    }// </editor-fold>                        

    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {                                            
        // TODO add your handling code here:
    }                                           

    private void CourseActionPerformed(java.awt.event.ActionEvent evt) {                                       
        // TODO add your handling code here:
    }                                      

    private void Course1ActionPerformed(java.awt.event.ActionEvent evt) {                                        
        // TODO add your handling code here:
    }                                       

    private void jTextField2ActionPerformed(java.awt.event.ActionEvent evt) {                                            
        // TODO add your handling code here:
    }                                           

    private void jTextSearchActionPerformed(java.awt.event.ActionEvent evt) {                                            
        //        // TODO add your handling code here:
        DefaultTableModel model = (DefaultTableModel) TableFacultyProgrammeCourseInfo.getModel();
        String search = jTextSearch.getText().toLowerCase();
        TableRowSorter<DefaultTableModel> tr = new TableRowSorter<DefaultTableModel>(model);
        TableFacultyProgrammeCourseInfo.setRowSorter(tr);
        tr.setRowFilter(RowFilter.regexFilter("(?i)" + search));
    }                                           

    private void jButtonSearch1ActionPerformed(java.awt.event.ActionEvent evt) {                                               
        // TODO add your handling code here:
    }                                              

    private void jTextSearch1ActionPerformed(java.awt.event.ActionEvent evt) {                                             
        // TODO add your handling code here:
    }                                            

    private void jButtonUpdateActionPerformed(java.awt.event.ActionEvent evt) {                                              
        int rowIndex = TableFacultyProgrammeCourseInfo.getSelectedRow();

        if (rowIndex >= 0) {
            // Prompt the user to input new values for faculty, programme, and course
            String newFaculty = JOptionPane.showInputDialog(null, "Enter new faculty name:");
            String newProgramme = JOptionPane.showInputDialog(null, "Enter new programme name:");
            String newCourse = JOptionPane.showInputDialog(null, "Enter new course name:");

            // Find the position of the selected faculty name in the linked list
            int position = findPositionByFacultyName(newFaculty);

            if (position != -1) {
                // Create updated Course object
                Course updatedCourse = new Course(newFaculty, newProgramme, newCourse);

                // Update the Course object in the courseList
                courseList.update(position, updatedCourse);

                // Update the values in the table model
                model.setValueAt(newFaculty, rowIndex, 0);
                model.setValueAt(newProgramme, rowIndex, 1);
                model.setValueAt(newCourse, rowIndex, 2);

                //Save the updated Data into the file
                //saveDataToFile(model);
                JOptionPane.showMessageDialog(null, "Course updated successfully");
            } else {
                JOptionPane.showMessageDialog(null, "Course not found");
            }
        } else {
            JOptionPane.showMessageDialog(null, "Please select a row to update");
        }
    }                                             

    private void jButtonDeleteActionPerformed(java.awt.event.ActionEvent evt) {                                              
        int rowIndex = TableFacultyProgrammeCourseInfo.getSelectedRow();

        if (rowIndex >= 0) {
            // Remove the selected row from the model
            model.removeRow(rowIndex);
            JOptionPane.showMessageDialog(null, "Course deleted successfully");
            //saveDataToFile(model);

            // Clear selection after deletion
            TableFacultyProgrammeCourseInfo.clearSelection();
            courseList.remove(1);

            // Also, try explicitly setting the selection to -1
            TableFacultyProgrammeCourseInfo.getSelectionModel().setSelectionInterval(-1, -1);
        } else {
            JOptionPane.showMessageDialog(null, "Please select a row to delete");
        }
    }                                             

    private void TableFacultyProgrammeCourseInfoMouseClicked(java.awt.event.MouseEvent evt) {                                                             
        // TODO add your handling code here:
        DefaultTableModel model = (DefaultTableModel) TableFacultyProgrammeCourseInfo.getModel();
        Integer rowIndex = TableFacultyProgrammeCourseInfo.getSelectedRow();

        if (rowIndex != -1 && rowIndex < model.getRowCount()) {
            Faculty.setSelectedItem(model.getValueAt(rowIndex, 0).toString());
            Programme.setSelectedItem(model.getValueAt(rowIndex, 1).toString());
            Course.setSelectedItem(model.getValueAt(rowIndex, 2).toString());
        }
    }                                                            

    private void TableFacultyProgrammeCourseInfoKeyReleased(java.awt.event.KeyEvent evt) {                                                            
        if (evt.getKeyCode() == KeyEvent.VK_UP || evt.getKeyCode() == KeyEvent.VK_DOWN) {
            int rowIndex = TableFacultyProgrammeCourseInfo.getSelectedRow();

            if (rowIndex != -1 && rowIndex < model.getRowCount()) {
                Faculty.setSelectedItem(model.getValueAt(rowIndex, 0).toString());
                Programme.setSelectedItem(model.getValueAt(rowIndex, 1).toString());
                Course.setSelectedItem(model.getValueAt(rowIndex, 2).toString());
            }
        }
    }                                                           


    // Variables declaration - do not modify                     
    private javax.swing.JComboBox<String> Course;
    private javax.swing.JComboBox<String> Course1;
    private javax.swing.JTable TableFacultyProgrammeCourseInfo;
    private javax.swing.JButton jButtonAdd;
    private javax.swing.JButton jButtonDelete;
    private javax.swing.JButton jButtonSearch;
    private javax.swing.JButton jButtonSearch1;
    private javax.swing.JButton jButtonUpdate;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabelSearch1;
    private javax.swing.JLabel jLabelSearch2;
    private javax.swing.JLabel jLabelTitle;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextSearch;
    private javax.swing.JTextField jTextSearch1;
    // End of variables declaration                   
}
